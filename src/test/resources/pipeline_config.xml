<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
  
	<bean id="processEntry" name="processEntry"
		  class="org.zebra.search.crawler.plugin.NewsProcessorEntry" init-method="initialize" destroy-method="destroy">
	</bean>

	<bean id="charsetConvertor" name="charsetConvertor"
		  class="org.zebra.search.crawler.plugin.CharsetConvertor" init-method="initialize" destroy-method="destroy">
	</bean>
	<bean id="documentParser" name="documentParser"
		  class="org.zebra.search.crawler.plugin.DocumentParser" init-method="initialize" destroy-method="destroy">
	</bean>
	<bean id="linkFollower" name="linkFollower"
		  class="org.zebra.search.crawler.plugin.LinkFollower" init-method="initialize" destroy-method="destroy">
	</bean>
	<bean id="filter" name="filter"
		  class="org.zebra.search.crawler.plugin.RulesetFilter" init-method="initialize" destroy-method="destroy">
	</bean>
	<bean id="deduper" name="deduper"
		  class="org.zebra.search.crawler.plugin.DeduperClient" init-method="initialize" destroy-method="destroy">
	</bean>
	<bean id="urlWriter" name="urlWriter"
		  class="org.zebra.search.crawler.plugin.UrlPoolWriter" init-method="initialize" destroy-method="destroy">
	</bean>
	<bean id="extractor" name="extractor"
		  class="org.zebra.search.crawler.plugin.NewsElementsExtractor" init-method="initialize" destroy-method="destroy">
	</bean>


    <!-- 你可以在这里指定多个processor chain：listchain, content chain, usr1 chain, usr2 chain, usr3 chain !-->
	<bean id="listChain" name="listChain"
		  class="org.zebra.search.crawler.core.ProcessorChain">
          <property name="processors">
          <list>
              <ref bean="documentParser"/>
              <ref bean="linkFollower"/>
              <ref bean="filter"/>
              <ref bean="deduper"/>
              <ref bean="urlWriter"/>
          </list>
          </property>
	</bean>
	<bean id="contentChain" name="contentChain"
		  class="org.zebra.search.crawler.core.ProcessorChain">
          <property name="processors">
          <list>
              <ref bean="documentParser"/>
              <ref bean="extractor"/>
          </list>
          </property>
	</bean>
	<bean id="usr1Chain" name="usr1Chain"
		  class="org.zebra.search.crawler.core.ProcessorChain">
	</bean>
	<bean id="usr2Chain" name="usr2Chain"
		  class="org.zebra.search.crawler.core.ProcessorChain">
	</bean>
	<bean id="usr3Chain" name="usr3Chain"
		  class="org.zebra.search.crawler.core.ProcessorChain">
	</bean>

	<bean id="dispatcher" name="dispatcher"
		  class="org.zebra.search.crawler.core.Dispatcher">
		  <property name="entry" ref="processEntry"></property>
    <!--  因为我不会配置map属性，所以在代码中用addChain函数来实现自动变化
		  <property name="chains"> 
              <map>
              </map>
          </property>
    !-->
	</bean>
</beans>
